{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Downloads/online-grocery/online-grocery/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{register}from'../services/authService';import'./form.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){const[form,setForm]=useState({full_name:'',email:'',username:'',password:'',confirmPassword:''});const[msg,setMsg]=useState('');const onChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const onSubmit=async e=>{e.preventDefault();setMsg('');if(!form.full_name||!form.email||!form.username||!form.password||!form.confirmPassword){setMsg('Fill all fields');return;}if(form.password!==form.confirmPassword){setMsg('Passwords do not match');return;}try{const resp=await register({full_name:form.full_name,email:form.email,username:form.username,password:form.password});localStorage.setItem('token',resp.data.token);setMsg('Registered — token saved');window.location.href='/dashboard';}catch(err){var _err$response,_err$response$data;setMsg(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Registration failed');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),msg&&/*#__PURE__*/_jsx(\"div\",{className:\"msg\",children:msg}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"full_name\",placeholder:\"Full Name\",value:form.full_name,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",placeholder:\"Email\",value:form.email,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",placeholder:\"Username\",value:form.username,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",placeholder:\"Password\",value:form.password,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{name:\"confirmPassword\",type:\"password\",placeholder:\"Confirm Password\",value:form.confirmPassword,onChange:onChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]})]});}","map":{"version":3,"names":["React","useState","register","jsx","_jsx","jsxs","_jsxs","Register","form","setForm","full_name","email","username","password","confirmPassword","msg","setMsg","onChange","e","_objectSpread","target","name","value","onSubmit","preventDefault","resp","localStorage","setItem","data","token","window","location","href","err","_err$response","_err$response$data","response","message","className","children","placeholder","type"],"sources":["C:/Users/HP/Downloads/online-grocery/online-grocery/frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { register } from '../services/authService';\nimport './form.css';\n\nexport default function Register() {\n  const [form, setForm] = useState({ full_name:'', email:'', username:'', password:'', confirmPassword:'' });\n  const [msg, setMsg] = useState('');\n\n  const onChange = e => setForm({...form, [e.target.name]: e.target.value});\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    setMsg('');\n    if (!form.full_name || !form.email || !form.username || !form.password || !form.confirmPassword) {\n      setMsg('Fill all fields');\n      return;\n    }\n    if (form.password !== form.confirmPassword) { setMsg('Passwords do not match'); return; }\n    try {\n      const resp = await register({ full_name: form.full_name, email: form.email, username: form.username, password: form.password });\n      localStorage.setItem('token', resp.data.token);\n      setMsg('Registered — token saved');\n      window.location.href = '/dashboard';\n    } catch (err) {\n      setMsg(err.response?.data?.message || 'Registration failed');\n    }\n  };\n\n  return (\n    <div className=\"form-card\">\n      <h2>Register</h2>\n      {msg && <div className=\"msg\">{msg}</div>}\n      <form onSubmit={onSubmit}>\n        <input name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={onChange} />\n        <input name=\"email\" placeholder=\"Email\" value={form.email} onChange={onChange} />\n        <input name=\"username\" placeholder=\"Username\" value={form.username} onChange={onChange} />\n        <input name=\"password\" type=\"password\" placeholder=\"Password\" value={form.password} onChange={onChange} />\n        <input name=\"confirmPassword\" type=\"password\" placeholder=\"Confirm Password\" value={form.confirmPassword} onChange={onChange} />\n        <button type=\"submit\">Register</button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}